1:"$Sreact.fragment"
2:I[78580,["/_next/static/chunks/7f64245c6154235a.js"],"ThemeProvider"]
3:I[35762,["/_next/static/chunks/7f64245c6154235a.js","/_next/static/chunks/1ca67093247280ae.js"],""]
4:I[79202,["/_next/static/chunks/7f64245c6154235a.js"],"ThemeToggle"]
5:I[22871,["/_next/static/chunks/fec5ea6183d0e55b.js","/_next/static/chunks/3b60e5197848a126.js"],"default"]
6:I[59801,["/_next/static/chunks/fec5ea6183d0e55b.js","/_next/static/chunks/3b60e5197848a126.js"],"default"]
7:I[28192,["/_next/static/chunks/7f64245c6154235a.js"],"default"]
8:I[84399,["/_next/static/chunks/7f64245c6154235a.js"],"Analytics"]
9:I[60685,["/_next/static/chunks/7f64245c6154235a.js"],"SpeedInsights"]
a:I[42100,["/_next/static/chunks/7f64245c6154235a.js"],"UmamiAnalytics"]
c:I[98427,["/_next/static/chunks/fec5ea6183d0e55b.js","/_next/static/chunks/3b60e5197848a126.js"],"OutletBoundary"]
d:"$Sreact.suspense"
f:I[98427,["/_next/static/chunks/fec5ea6183d0e55b.js","/_next/static/chunks/3b60e5197848a126.js"],"ViewportBoundary"]
11:I[98427,["/_next/static/chunks/fec5ea6183d0e55b.js","/_next/static/chunks/3b60e5197848a126.js"],"MetadataBoundary"]
13:I[32257,["/_next/static/chunks/fec5ea6183d0e55b.js","/_next/static/chunks/3b60e5197848a126.js"],"default"]
:HL["/_next/static/chunks/abf9089aed6bac0a.css","style"]
:HL["/_next/static/media/GeistMono_Variable.p.73882635.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
0:{"P":null,"b":"NUxfK1FQr8FcVyEX4fUbo","c":["","writing","mongodb-schema-design",""],"q":"","i":false,"f":[[["",{"children":[["contentType","writing","d"],{"children":[["slug","mongodb-schema-design","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],[["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/chunks/abf9089aed6bac0a.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","script","script-0",{"src":"/_next/static/chunks/7f64245c6154235a.js","async":true,"nonce":"$undefined"}]],["$","html",null,{"lang":"en","className":"geistmono_157ca88a-module__TXdLRq__variable","suppressHydrationWarning":true,"children":["$","body",null,{"className":"font-mono antialiased max-w-2xl mx-4 mt-6 lg:mx-auto text-sm text-black bg-white dark:text-white dark:bg-black","children":["$","$L2",null,{"attribute":"class","defaultTheme":"system","enableSystem":true,"disableTransitionOnChange":true,"children":["$","main",null,{"className":"flex-auto min-w-0 mt-4 flex flex-col px-2 md:px-0","children":[["$","aside",null,{"className":"-ml-[8px] mb-8 tracking-tight","children":["$","div",null,{"className":"lg:sticky lg:top-20","children":["$","nav",null,{"className":"flex flex-row items-center justify-between relative px-0 pb-0 fade md:overflow-auto scroll-pr-6 md:relative","id":"nav","children":[["$","div",null,{"className":"flex flex-row space-x-0 pr-10","children":[["$","$L3","/",{"href":"/","className":"transition-all hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black flex align-middle relative py-1 px-2 m-1","children":"home"}],["$","$L3","/writing",{"href":"/writing","className":"transition-all hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black flex align-middle relative py-1 px-2 m-1","children":"writing"}]]}],["$","$L4",null,{}]]}]}]}],["$","$L5",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","section",null,{"children":[["$","h1",null,{"className":"mb-8 text-2xl font-semibold tracking-tighter","children":"404 - Page Not Found"}],["$","p",null,{"className":"mb-4","children":"The page you are looking for does not exist."}]]}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}],["$","$L7",null,{}],["$","$L8",null,{}],["$","$L9",null,{}],["$","$La",null,{}]]}]}]}]}]]}],{"children":[["$","$1","c",{"children":[null,["$","$L5",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":[null,["$","$L5",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":["$Lb",[["$","script","script-0",{"src":"/_next/static/chunks/1ca67093247280ae.js","async":true,"nonce":"$undefined"}]],["$","$Lc",null,{"children":["$","$d",null,{"name":"Next.MetadataOutlet","children":"$@e"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],["$","$1","h",{"children":[null,["$","$Lf",null,{"children":"$L10"}],["$","div",null,{"hidden":true,"children":["$","$L11",null,{"children":["$","$d",null,{"name":"Next.Metadata","children":"$L12"}]}]}],null]}],false]],"m":"$undefined","G":["$13",[]],"S":true}
14:I[28388,["/_next/static/chunks/7f64245c6154235a.js","/_next/static/chunks/1ca67093247280ae.js"],"RelativeTime"]
b:["$","section",null,{"children":[["$","h1",null,{"className":"title font-bold text-lg","children":"Rules of Thumb for MongoDB Schema Design"}],["$","div",null,{"className":"flex justify-between items-center mt-1 mb-6 text-xs","children":["$","$L14",null,{"date":"2017-01-11"}]}],["$","article",null,{"className":"prose","children":"$L15"}]]}]
10:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
16:I[61212,["/_next/static/chunks/fec5ea6183d0e55b.js","/_next/static/chunks/3b60e5197848a126.js"],"IconMark"]
e:null
12:[["$","title","0",{"children":"Keon Kim"}],["$","meta","1",{"name":"description","content":"Keon's blog."}],["$","link","2",{"rel":"manifest","href":"/favicon/site.webmanifest","crossOrigin":"$undefined"}],["$","meta","3",{"name":"robots","content":"index, follow"}],["$","meta","4",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","meta","5",{"property":"og:title","content":"Keon Kim"}],["$","meta","6",{"property":"og:description","content":"Keon's blog."}],["$","meta","7",{"property":"og:url","content":"https://keon.github.io/"}],["$","meta","8",{"property":"og:site_name","content":"Keon Kim"}],["$","meta","9",{"property":"og:locale","content":"en_US"}],["$","meta","10",{"property":"og:type","content":"website"}],["$","meta","11",{"name":"twitter:card","content":"summary"}],["$","meta","12",{"name":"twitter:title","content":"Keon Kim"}],["$","meta","13",{"name":"twitter:description","content":"Keon's blog."}],["$","link","14",{"rel":"icon","href":"/favicon/favicon-16x16.png","sizes":"16x16","type":"image/png"}],["$","link","15",{"rel":"icon","href":"/favicon/favicon-32x32.png","sizes":"32x32","type":"image/png"}],["$","link","16",{"rel":"icon","href":"/favicon/favicon.ico","sizes":"any"}],["$","link","17",{"rel":"apple-touch-icon","href":"/favicon/apple-touch-icon.png","sizes":"180x180","type":"image/png"}],["$","link","18",{"rel":"android-chrome-192x192","href":"/favicon/android-chrome-192x192.png"}],["$","link","19",{"rel":"android-chrome-512x512","href":"/favicon/android-chrome-512x512.png"}],["$","$L16","20",{}]]
15:[["$","p",null,{"children":["This is a summary of ",["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://www.mongodb.com/blog/post/6-rules-of-thumb-for-mongodb-schema-design-part-1","children":"6 Rules of Thumb for MongoDB Schema Design"}],", which details how MongoDB schemas should be organized in three separate blog posts. So please take a look if this summarization is not sufficient."]}],"\n",["$","p",null,{"children":"If you are new to MongoDB it is natural to ask how should one structure the schema for One-to-Many relationship."}],"\n",["$","h2",null,{"id":"basics","children":[[["$","a","link-basics",{"href":"#basics","className":"anchor"}]],"Basics"]}],"\n",["$","p",null,{"children":"Relationships can be in three different forms:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"One-to-Few"}],"\n",["$","li",null,{"children":"One-to-Many"}],"\n",["$","li",null,{"children":"One-to-Squillions"}],"\n"]}],"\n",["$","p",null,{"children":"Each method for structuring has its pros and cons. So the user should know how to decide which one is better than the other in the given situation."}],"\n",["$","h2",null,{"id":"one-to-few","children":[[["$","a","link-one-to-few",{"href":"#one-to-few","className":"anchor"}]],"One-to-Few"]}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#24292e","color":"#e1e4e8"},"tabIndex":"0","data-language":"javascript","data-theme":"github-dark","children":["$","code",null,{"data-language":"javascript","data-theme":"github-dark","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// person"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"{"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  name"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"\"Keon Kim\""}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  hometown"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"\"Seoul\""}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  addresses"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": ["}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"    { city: "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'Manhattan'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":", state: "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'NY'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":", cc: "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'USA'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" },"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"    { city: "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'Jersey City'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":", state: "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'NJ'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":", cc: "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'USA'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" }"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"  ]"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"}"}]}]]}]}]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"Pros"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"You can call all the information in one query"}],"\n"]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"Cons"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"It is impossible to search the contained entity independently."}],"\n"]}],"\n",["$","h2",null,{"id":"one-to-many","children":[[["$","a","link-one-to-many",{"href":"#one-to-many","className":"anchor"}]],"One-to-Many"]}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#24292e","color":"#e1e4e8"},"tabIndex":"0","data-language":"javascript","data-theme":"github-dark","children":["$","code",null,{"data-language":"javascript","data-theme":"github-dark","style":{"display":"grid"},"children":["$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b"]}]}]}],"\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41","\n","$L42","\n","$L43"]
17:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// parts"}]}]
18:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"{"}]}]
19:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  _id"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"color":"#B392F0"},"children":"ObjectID"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'AAAA'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"),"}]]}]
1a:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  partno"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'123-aff-456'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":","}]]}]
1b:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  name"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'Awesometel 100Ghz CPU'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":","}]]}]
1c:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  qty"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"color":"#79B8FF"},"children":"102"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":","}]]}]
1d:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  cost"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"color":"#79B8FF"},"children":"1.21"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":","}]]}]
1e:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  price"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"color":"#79B8FF"},"children":"3.99"}]]}]
1f:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"}"}]}]
20:["$","span",null,{"data-line":"","children":" "}]
21:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// products"}]}]
22:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"{"}]}]
23:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  name"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'Weird Computer WC-3020'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":","}]]}]
24:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  manufacturer"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'Haruair Eng.'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":","}]]}]
25:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  catalog_number"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"color":"#79B8FF"},"children":"1234"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":","}]]}]
26:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  parts"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": ["}]]}]
27:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"    ObjectID"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'AAAA'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"),"}]]}]
28:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"    ObjectID"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'DEFO'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"),"}]]}]
29:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"    ObjectID"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'EJFW'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":")"}]]}]
2a:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"  ]"}]}]
2b:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"}"}]}]
2c:["$","p",null,{"children":"Parent holds the list of ObjectID of the child documents. This requires an application level join, not the database level join."}]
2d:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#24292e","color":"#e1e4e8"},"tabIndex":"0","data-language":"javascript","data-theme":"github-dark","children":["$","code",null,{"data-language":"javascript","data-theme":"github-dark","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// find product based on category_number."}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F97583"},"children":">"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" product "}],["$","span",null,{"style":{"color":"#F97583"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" db.products."}],["$","span",null,{"style":{"color":"#B392F0"},"children":"findOne"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"({catalog_number: "}],["$","span",null,{"style":{"color":"#79B8FF"},"children":"1234"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"});"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// find all parts in the product's parts list."}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F97583"},"children":">"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" product_parts "}],["$","span",null,{"style":{"color":"#F97583"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" db.parts."}],["$","span",null,{"style":{"color":"#B392F0"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"({"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"                      _id: { $in : product.parts }"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"                   })."}],["$","span",null,{"style":{"color":"#B392F0"},"children":"toArray"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"();"}]]}]]}]}]}]
2e:["$","p",null,{"children":["$","strong",null,{"children":"Pros"}]}]
2f:["$","ul",null,{"children":["\n",["$","li",null,{"children":"It is easy to handle insert, delete on each documents independently."}],"\n",["$","li",null,{"children":"It has flexibility for implementing N-to-N relationship because it is an application level join."}],"\n"]}]
30:["$","p",null,{"children":["$","strong",null,{"children":"Cons"}]}]
31:["$","ul",null,{"children":["\n",["$","li",null,{"children":"Performance drops as you call documents multiple times."}],"\n"]}]
32:["$","h2",null,{"id":"one-to-squillions","children":[[["$","a","link-one-to-squillions",{"href":"#one-to-squillions","className":"anchor"}]],"One-to-Squillions"]}]
33:["$","p",null,{"children":"If you need to store tons of data (ie. event logs), you need to use a different approach since a document cannot be larger than 16MB in size. You need to use 'parent-referencing'."}]
34:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#24292e","color":"#e1e4e8"},"tabIndex":"0","data-language":"javascript","data-theme":"github-dark","children":["$","code",null,{"data-language":"javascript","data-theme":"github-dark","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// host"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"{"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  _id"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" : "}],["$","span",null,{"style":{"color":"#B392F0"},"children":"ObjectID"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'AAAB'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"),"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  name"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" : "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'goofy.example.com'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  ipaddr"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" : "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'127.66.66.66'"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"}"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// logmsg"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"{"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  time"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" : "}],["$","span",null,{"style":{"color":"#B392F0"},"children":"ISODate"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"\"2015-09-02T09:10:09.032Z\""}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"),"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  message"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" : "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'cpu is on fire!'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  host"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"color":"#B392F0"},"children":"ObjectID"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'AAAB'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":")       "}],["$","span",null,{"style":{"color":"#6A737D"},"children":"// references Host document"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"}"}]}]]}]}]}]
35:["$","p",null,{"children":"Later you can join like below:"}]
36:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#24292e","color":"#e1e4e8"},"tabIndex":"0","data-language":"javascript","data-theme":"github-dark","children":["$","code",null,{"data-language":"javascript","data-theme":"github-dark","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// Search parent host document"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F97583"},"children":">"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" host "}],["$","span",null,{"style":{"color":"#F97583"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" db.hosts."}],["$","span",null,{"style":{"color":"#B392F0"},"children":"findOne"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"({ipaddr : "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'127.66.66.66'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"});"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// Search the most recent 5000 logs"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// for a host based on host's ObjectID"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F97583"},"children":">"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" last_5k_msg "}],["$","span",null,{"style":{"color":"#F97583"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" db.logmsg."}],["$","span",null,{"style":{"color":"#B392F0"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"({host: host._id})"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"                         ."}],["$","span",null,{"style":{"color":"#B392F0"},"children":"sort"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"({time : "}],["$","span",null,{"style":{"color":"#F97583"},"children":"-"}],["$","span",null,{"style":{"color":"#79B8FF"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"})"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"                         ."}],["$","span",null,{"style":{"color":"#B392F0"},"children":"limit"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF"},"children":"5000"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":")"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"                         ."}],["$","span",null,{"style":{"color":"#B392F0"},"children":"toArray"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"()"}]]}]]}]}]}]
37:["$","h2",null,{"id":"denormalization","children":[[["$","a","link-denormalization",{"href":"#denormalization","className":"anchor"}]],"Denormalization"]}]
38:["$","p",null,{"children":"In order to speed up the query, you can denormalize the data."}]
39:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#24292e","color":"#e1e4e8"},"tabIndex":"0","data-language":"javascript","data-theme":"github-dark","children":["$","code",null,{"data-language":"javascript","data-theme":"github-dark","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// logmsg - before"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"{"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  time"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" : "}],["$","span",null,{"style":{"color":"#B392F0"},"children":"ISODate"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"\"2015-09-02T09:10:09.032Z\""}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"),"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  message"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" : "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'cpu is on fire!'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  host"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"color":"#B392F0"},"children":"ObjectID"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'AAAB'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":")"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"}"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// logmsg - after"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"{"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  time"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" : "}],["$","span",null,{"style":{"color":"#B392F0"},"children":"ISODate"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"\"2015-09-02T09:10:09.032Z\""}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"),"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  message"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" : "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'cpu is on fire!'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  host"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"color":"#B392F0"},"children":"ObjectID"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'AAAB'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"),"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"  ipaddr"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" : "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'127.66.66.66'"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"}"}]}]]}]}]}]
3a:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#24292e","color":"#e1e4e8"},"tabIndex":"0","data-language":"javascript","data-theme":"github-dark","children":["$","code",null,{"data-language":"javascript","data-theme":"github-dark","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F97583"},"children":">"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" last_5k_msg "}],["$","span",null,{"style":{"color":"#F97583"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" db.logmsg."}],["$","span",null,{"style":{"color":"#B392F0"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"({ipaddr : "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'127.66.66.66'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"})"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"                         ."}],["$","span",null,{"style":{"color":"#B392F0"},"children":"sort"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"({time : "}],["$","span",null,{"style":{"color":"#F97583"},"children":"-"}],["$","span",null,{"style":{"color":"#79B8FF"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"})"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"                         ."}],["$","span",null,{"style":{"color":"#B392F0"},"children":"limit"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF"},"children":"5000"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":")"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"                         ."}],["$","span",null,{"style":{"color":"#B392F0"},"children":"toArray"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"()"}]]}]]}]}]}]
3b:["$","p",null,{"children":"In fact, you can merge the two documents:"}]
3c:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#24292e","color":"#e1e4e8"},"tabIndex":"0","data-language":"javascript","data-theme":"github-dark","children":["$","code",null,{"data-language":"javascript","data-theme":"github-dark","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"{"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"    time"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" : "}],["$","span",null,{"style":{"color":"#B392F0"},"children":"ISODate"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"\"2015-09-02T09:10:09.032Z\""}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"),"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"    message"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" : "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'cpu is on fire!'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"    ipaddr"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" : "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'127.66.66.66'"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#B392F0"},"children":"    hostname"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" : "}],["$","span",null,{"style":{"color":"#9ECBFF"},"children":"'goofy.example.com'"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"}"}]}]]}]}]}]
3d:["$","p",null,{"children":"It would be used like this in the code:"}]
3e:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#24292e","color":"#e1e4e8"},"tabIndex":"0","data-language":"javascript","data-theme":"github-dark","children":["$","code",null,{"data-language":"javascript","data-theme":"github-dark","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// receive log from monitoring program."}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"logmsg "}],["$","span",null,{"style":{"color":"#F97583"},"children":"="}],["$","span",null,{"style":{"color":"#B392F0"},"children":" get_log_msg"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"();"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"log_message_here "}],["$","span",null,{"style":{"color":"#F97583"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" logmsg.msg;"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"log_ip "}],["$","span",null,{"style":{"color":"#F97583"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" logmsg.ipaddr;"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// get timestamp"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"now "}],["$","span",null,{"style":{"color":"#F97583"},"children":"="}],["$","span",null,{"style":{"color":"#F97583"},"children":" new"}],["$","span",null,{"style":{"color":"#B392F0"},"children":" Date"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"();"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// find host's id for update"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"host_doc "}],["$","span",null,{"style":{"color":"#F97583"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" db.hosts."}],["$","span",null,{"style":{"color":"#B392F0"},"children":"findOne"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"({ ipaddr: log_ip },{ _id: "}],["$","span",null,{"style":{"color":"#79B8FF"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" });"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"host_id "}],["$","span",null,{"style":{"color":"#F97583"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" host_doc._id;"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// save denoramlized data"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"db.logmsg."}],["$","span",null,{"style":{"color":"#B392F0"},"children":"save"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"({"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"    time : now,"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"    message : log_message_here,"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"    ipaddr : log_ip,"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"    host : host_id ) });"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// Push the denoramlized data in 'one'"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"db.hosts."}],["$","span",null,{"style":{"color":"#B392F0"},"children":"update"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":"( {_id: host_id }, {"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"    $push : {"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"      logmsgs : {"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"        $each:  [ { time : now, message : log_message_here } ],"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"        $sort:  { time : "}],["$","span",null,{"style":{"color":"#79B8FF"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8"},"children":" },  "}],["$","span",null,{"style":{"color":"#6A737D"},"children":"// sort by time"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E1E4E8"},"children":"        $slice: "}],"$L44","$L45","$L46"]}],"\n","$L47","\n","$L48","\n","$L49"]}]}]}]
3f:["$","h2",null,{"id":"6-rules-of-thumb","children":[[["$","a","link-6-rules-of-thumb",{"href":"#6-rules-of-thumb","className":"anchor"}]],"6 Rules of Thumb"]}]
40:["$","p",null,{"children":"Here are some \"rules of thumb\" to guide you through these innumerable (but not infinite) choices:"}]
41:["$","ol",null,{"children":["\n",["$","li",null,{"children":"Favor embedding unless there is a compelling reason not to"}],"\n",["$","li",null,{"children":"Needing to access an object on its own is a compelling reason not to embed it"}],"\n",["$","li",null,{"children":"Arrays should not grow without bound. If there are more than a couple of hundred documents on the \"many\" side, don't embed them; if there are more than a few thousand documents on the \"many\" side, don't use an array of ObjectID references. High-cardinality arrays are a compelling reason not to embed."}],"\n",["$","li",null,{"children":"Don't be afraid of application-level joins: if you index correctly and use the projection specifier then application-level joins are barely more expensive than server-side joins in a relational database."}],"\n",["$","li",null,{"children":"Consider the write/read ratio when denormalizing. A field that will mostly be read and only seldom updated is a good candidate for denormalization: if you denormalize a field that is updated frequently then the extra work of finding and updating all the instances is likely to overwhelm the savings that you get from denormalizing."}],"\n",["$","li",null,{"children":"As always with MongoDB, how you model your data depends – entirely – on your particular application's data access patterns. You want to structure your data to match the ways that your application queries and updates it."}],"\n"]}]
42:["$","h2",null,{"id":"references","children":[[["$","a","link-references",{"href":"#references","className":"anchor"}]],"References"]}]
43:["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://www.mongodb.com/blog/post/6-rules-of-thumb-for-mongodb-schema-design-part-1","children":"6 Rules of Thumb for MongoDB Schema Design Part 1"}]}],"\n",["$","li",null,{"children":["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://www.mongodb.com/blog/post/6-rules-of-thumb-for-mongodb-schema-design-part-2","children":"6 Rules of Thumb for MongoDB Schema Design Part 2"}]}],"\n",["$","li",null,{"children":["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://www.mongodb.com/blog/post/6-rules-of-thumb-for-mongodb-schema-design-part-3","children":"6 Rules of Thumb for MongoDB Schema Design Part 3"}]}],"\n"]}]
44:["$","span",null,{"style":{"color":"#F97583"},"children":"-"}]
45:["$","span",null,{"style":{"color":"#79B8FF"},"children":"1000"}]
46:["$","span",null,{"style":{"color":"#6A737D"},"children":"          // get top 1000"}]
47:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"      }"}]}]
48:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"    }"}]}]
49:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#E1E4E8"},"children":"  });"}]}]
